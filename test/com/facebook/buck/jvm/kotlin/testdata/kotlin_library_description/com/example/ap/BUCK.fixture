kotlin_library(
  name = 'kotlin',
  srcs = [
    'AKotlinClass.kt',
    'AJavaClass.java',
    ':ap',
  ],
  visibility = [
    'PUBLIC',
  ]
)

kotlin_annotation_processor(
    name = "ap",
    srcs = [
      'AKotlinClass.kt',
      'AJavaClass.java',
    ],
    deps = [
      ":another_kotlin"
    ],
    annotation_processor_deps = [
      ":ap-lib",
    ],
)

java_library(
    name = "ap-lib",
    srcs = [
        "AnnotationProcessor.java",
    ],
    resources = glob([
        'resources/**',
    ]),
    resources_root = "resources"
)

kotlin_library(
  name = 'another_kotlin',
  srcs = [
    'AnotherKotlinClass.kt',
  ],
  visibility = [
    'PUBLIC',
  ]
)
